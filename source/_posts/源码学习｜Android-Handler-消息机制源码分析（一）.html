<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æºç å­¦ä¹ ï½œAndroid Handler æ¶ˆæ¯æœºåˆ¶æºç åˆ†æï¼ˆä¸€ï¼‰</title>
    <style type="text/css" media="all">
      body {
        margin: 0;
        font-family: "Helvetica Neue", Helvetica, Arial, "Hiragino Sans GB", sans-serif;
        font-size: 14px;
        line-height: 20px;
        color: #777;
        background-color: white;
      }
      .container {
        width: 700px;
        margin-right: auto;
        margin-left: auto;
      }

      .post {
        font-family: Georgia, "Times New Roman", Times, "SimSun", serif;
        position: relative;
        padding: 70px;
        bottom: 0;
        overflow-y: auto;
        font-size: 16px;
        font-weight: normal;
        line-height: 25px;
        color: #515151;
      }

      .post h1{
        font-size: 50px;
        font-weight: 500;
        line-height: 60px;
        margin-bottom: 40px;
        color: inherit;
      }

      .post p {
        margin: 0 0 35px 0;
      }

      .post img {
        border: 1px solid #D9D9D9;
      }

      .post a {
        color: #28A1C5;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="post">
        <h1 class="title">æºç å­¦ä¹ ï½œAndroid Handler æ¶ˆæ¯æœºåˆ¶æºç åˆ†æï¼ˆä¸€ï¼‰</h1>
        <div class="show-content">
          <p>ä¸€ç›´åœ¨ç”¨Handler,ä½†å´ä¸€ç›´å› ä¸ºä¸èƒ½å‡†ç¡®è¡¨è¿°å…¶å·¥ä½œåŸç†è€Œè€¿è€¿äºæ€€ï¼Œç°åœ¨æ­£å¥½æœ‰æ—¶é—´ï¼Œè‡ªå·±å†³å®šåˆæ­¥æ¢³ç†ä¸‹ã€‚å¦‚æœæœ‰æ•´ç†ä¸è¶³æˆ–ä¸å‡†ç¡®çš„åœ°æ–¹ï¼Œè¯·å¤§å®¶æ‰¹è¯„æŒ‡æ­£ã€‚</p><p>ç›¸ä¿¡å¤§å®¶å¯¹äºä¸»çº¿ç¨‹ä¸­åˆ›å»ºå¹¶ä½¿ç”¨Handlerä¸€ç‚¹éƒ½ä¸é™Œç”Ÿäº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šï¼ˆå£°æ˜ä¸ºstaticçš„é™æ€ç±»åŸå› æ˜¯é¿å…Handlerä½œä¸ºå†…éƒ¨ç±»ï¼Œé¿å…éšå¼æŒæœ‰å¤–éƒ¨å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼é—®é¢˜ã€‚ï¼‰</p><p><br></p><div class="image-package"><img src="http://upload-images.jianshu.io/upload_images/1489253-325849abb2712457.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/1489253-325849abb2712457.png?imageMogr2/auto-orient/strip" data-image-slug="325849abb2712457" data-width="489" data-height="140"><br><div class="image-caption"></div></div><p>æˆ–è®¸å¤§å®¶ä¹Ÿæœ‰ç¢°åˆ°è¿‡ç±»ä¼¼äºä¸‹é¢çš„å£°æ˜æ–¹æ³•ï¼š<br></p><p>Handler mainHandler = newHandler(Looper.getMainLooper());</p><p>ä½†æ˜¯é˜…è¯»Handleræºç å‘ç°ï¼ŒHandleræä¾›äº†å¤šç§æ„é€ æ–¹æ³•ä»¥ä¾›ä½¿ç”¨ï¼š</p><p>1ã€public Handler() &nbsp;{ this(null,false); }</p><p>2ã€public Handler(Callback callback) &nbsp;{ this(callback,false); }</p><p>3ã€public Handler(Looper looper) { this(looper,null,false); }</p><p>4ã€public Handler(Looper looper, Callback callback) { this(looper, callback,false);}</p><p>5ã€public Handler(boolean async) {this(null, async);}</p><p>6ã€public Handler(Callback callback, boolean async) {}</p><p>7ã€public Handler(Looper looper, Callback callback,booleanasync) {}</p><p>å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœæœªä¼ å…¥æœ€å¸¸è§çš„å‚æ•°ä¸ºç©ºçš„æ„é€ æ–¹æ³•å…¶å®å¼•ç”¨çš„åºå·ä¸º6çš„æ„é€ æ–¹æ³•ã€‚å…¶å®å¤§å®¶åº”è¯¥ä¹Ÿæœ‰å‘ç°ï¼šHandlerå¦‚æœä¸æ˜¾å¼ä¼ å…¥Looper åˆ›å»ºå¯¹è±¡çš„è¯ï¼Œæœ€åéƒ½ä¼šè°ƒç”¨åºå·ä¸º6çš„æ„é€ æ–¹æ³•ï¼Œè€Œå¦‚æœæ˜¾ç¤ºä¼ å…¥Looperçš„è¯ï¼Œæœ€åéƒ½ä¼šè°ƒç”¨åºå·ä¸º7çš„æ„é€ æ–¹æ³•ã€‚</p><p>è€Œæ„é€ æ–¹æ³•6ä¸æ„é€ æ–¹æ³•7çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿé™„ä¸Šæºç å¤§å®¶åº”è¯¥å°±æ¯”è¾ƒæ¸…æ¥šäº†</p><p><br></p><div class="image-package"><img src="http://upload-images.jianshu.io/upload_images/1489253-bcbc1d99a5675e43.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/1489253-bcbc1d99a5675e43.png?imageMogr2/auto-orient/strip" data-image-slug="bcbc1d99a5675e43" data-width="817" data-height="443"><br><div class="image-caption"></div></div><p><br></p><div class="image-package"><img src="http://upload-images.jianshu.io/upload_images/1489253-759ccd6699ff4242.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" data-original-src="http://upload-images.jianshu.io/upload_images/1489253-759ccd6699ff4242.png?imageMogr2/auto-orient/strip" data-image-slug="759ccd6699ff4242" data-width="787" data-height="615"><br><div class="image-caption"></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå”¯ä¸€çš„åŒºåˆ«æˆ–è®¸å°±æ˜¯mLooperçš„è·å–æ–¹å¼äº†ï¼Œè€Œåœ¨æ„é€ æ–¹æ³•6ä¸­ï¼Œ å¦‚æœmLooperå¯¹è±¡ä¸ºç©ºçš„æ—¶å€™ï¼Œä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œç§°åœ¨çº¿ç¨‹ä¸­åˆ›å»ºhandleræ—¶æ²¡ç”¨è°ƒç”¨Looper.prepare()æ–¹æ³•ã€‚æˆ‘æƒ³è¿™ä¹Ÿè®¸å°±æ˜¯å¤§å¤šæ•°æ—¶å€™åœ¨å­çº¿ç¨‹ä¸­è°ƒç”¨æ„é€ æ–¹æ³•1ï¼Œæ—¶ä¼šæŠ›å‡ºå¼‚å¸¸çš„åŸå› äº†ã€‚</p><p>è‡³äºä¸ºä½•ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè¯·æœŸå¾…å¯¹Looperç±»çš„åˆ†æå§ï½ï½ï½ğŸ˜Š</p><p>psï¼šæˆ–è®¸æœ‰å“ªä½å°ä¼™ä¼´èƒ½å›ç­”ä¸‹FIND_POTENTIAL_LEAKSè¿™ä¸ªå‚æ•°æœ‰ä»€ä¹ˆæ„ä¹‰å‘¢ï¼Ÿ</p><p>æ›´æ–°åç»­ç›¸å…³æ–‡ç« çš„ä¼ é€é—¨ï¼š<br></p><p><a target="_blank" href="http://www.jianshu.com/p/3be5cca5c518">ã€ŠAndroid Handleræ¶ˆæ¯æœºåˆ¶æºç åˆ†æï¼ˆäºŒï¼‰ã€‹</a> <br></p><p><a target="_blank" href="http://www.jianshu.com/p/04c76187de3a">ã€ŠAndroid Handleræ¶ˆæ¯æœºåˆ¶æºç åˆ†æï¼ˆä¸‰ï¼‰ã€‹</a> <br></p>
        </div>
      </div>
    </div>
  </body>
</html>
